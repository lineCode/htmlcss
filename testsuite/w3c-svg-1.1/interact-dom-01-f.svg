<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="480" height="360" onload="initTest(evt)"><SVGTestCase xmlns="http://www.w3.org/2000/02/svg/testSuite/description/"><OperatorScript><Paragraph>Verify basic support for DOM event listener registration. The root svg element has an onload handler where a click event listener is registered on group element &apos;Start Button&apos;.</Paragraph><Paragraph>If UI events listener registration is supported (and UI events), when the user clicks on the button a text node is inserted reading &quot;UI Event Listeners supported&quot;.</Paragraph><Paragraph>At the end of the test, the start test button in changed to pink, and the click event listener is removed from the the start button.</Paragraph><Paragraph>Subsequent clicks on the start button should cause no effect if the event listener has been removed successfully. If additional lines of text appear in the document that say &quot;UI Event Listeners supported&quot;, then the implementation has not successfully removed the event listener.</Paragraph><Paragraph>After clicking at least once on the button, the rendered image should be exactly as the reference image, except for differences in text display.</Paragraph></OperatorScript></SVGTestCase><title id="test-title">interact-dom-01-f</title><desc id="test-desc">Checks if DOM/ECMA Script binding is supported. Checks that the DOM API supports event listener registration/unregistration.</desc><g id="test-body-content"><script type="text/ecmascript"><![CDATA[
		
    var svg_ns = "http://www.w3.org/2000/svg"
		var doc;
		var content;
		var startButton;
		var buttonRect;
    var yLocation = 100;
		//
		// onload handler for top level svg element. Sets a UI event listener for
		// the test start button.
		//
		function initTest(evt){
			// Get Document
    	var target = evt.target;
			doc = target.ownerDocument;
			content = doc.getElementById("test-body-content");

			// Get start rect and add a UI listener
			startButton = doc.getElementById("startButton");
			buttonRect = doc.getElementById("buttonRect");
			startButton.addEventListener("click", uiEventDetected, false);
		}

		//
		// click handler for 'startButton' rect element.
		//
    function uiEventDetected(evt) {
			//
			// Add an element to show that UI event was detected
			//
			var newText = doc.createElementNS(svg_ns, 'text');
			newText.setAttribute('x', '50');
			newText.setAttribute('y', yLocation);
			var message = "UI Event Listeners supported";
			var textContent = doc.createTextNode(message);
			newText.appendChild(textContent);
			content.appendChild(newText);

			startButton.removeEventListener("click", uiEventDetected, false);

			// Make start button pink
			buttonRect.setAttribute("fill", "#ff8888");
			buttonRect.setAttribute("stroke", "black");		

      // If test does not successfully remove the event listener, then
      // a second click will cause a subsequent text string to appear 50 units
      // below the first new text string.
      yLocation = yLocation + 50;	
    }

	]]></script><g id="startButton"><rect id="buttonRect" width="80" height="20" x="10" y="50" fill="#ddd" stroke="#000"/><text x="15" y="65">Start Test</text></g></g><g id="test-legend" fill="#000" font-family="Helvetica" font-size="10"><rect width="275" height="50" x="10" y="300" fill="none" stroke="#000"/><path fill="none" stroke="#000" d="M10 315 h275 M205 315 v35 M10 336 h195 M205 332 h80"/><text x="25" y="311">Scalable Vector Graphics (SVG) v1.1 Conformance Suite</text><a xlink:href="copyright-documents-19990405.html"><text x="12" y="347" fill="#00f">Copyright 2002 W3C. All Rights Reserved.</text></a><text x="35" y="330" font-size="12">interact-dom-01-f</text><text x="210" y="327" font-size="10">$Revision: 1.1 $</text><text x="210" y="345" font-size="10">Release 1.0</text><rect id="test-frame" width="478" height="358" x="1" y="1" fill="none" stroke="#000"/></g></svg>